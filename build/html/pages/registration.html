

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Registration &mdash; eBox 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Training" href="../misc/training.html" />
    <link rel="prev" title="Intro" href="../intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> eBox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Intro</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#user-flow">User flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#user-redirect">User redirect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fas-log-on-and-consent-page">FAS log on and Consent Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="#after-registration">After registration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#backend-flow">Backend flow</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/blogs.html">Blog posts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/videos.html">Videos</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">eBox</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Registration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/registration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="registration">
<h1>Registration<a class="headerlink" href="#registration" title="Permalink to this headline">¶</a></h1>
<p>Process description of the eBox registration process</p>
<div class="section" id="user-flow">
<h2>User flow<a class="headerlink" href="#user-flow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="user-redirect">
<h3>User redirect<a class="headerlink" href="#user-redirect" title="Permalink to this headline">¶</a></h3>
<p>When a user decides to register for the eBox, the HIP must redirect him to the registration endpoint at <code class="docutils literal notranslate"><span class="pre">https://secure.doccle.be/kbc-ebox/register</span></code> with the following query string parameters:</p>
<ul class="simple">
<li><p><strong>returnUrl</strong>: After registration, the user will be sent back to your platform via this url</p></li>
<li><p><strong>reference</strong>: An identifier of the user in your system. This is can be used to link machine to machine messages to the correct user in your system.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The return URL and reference must be url-safe encoded.</p>
</div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://secure.doccle.be/kbc-ebox/register?returnUrl=https%3A%2F%2Fwww.yourdomain.be%2FEboxRegistrationCompleted&amp;reference=XYZ
</pre></div>
</div>
</div>
<div class="section" id="fas-log-on-and-consent-page">
<h3>FAS log on and Consent Page<a class="headerlink" href="#fas-log-on-and-consent-page" title="Permalink to this headline">¶</a></h3>
<p>The user will start registration process at the FAS. He will log in using any of the provided authentication methods: itsme, eID, …</p>
<p>After authentication, the user agrees with the terms and conditions on the consent page. Note that the language of the FAS login page and consent page cannot be controlled by the eBox connector (not supported by FAS).</p>
</div>
<div class="section" id="after-registration">
<h3>After registration<a class="headerlink" href="#after-registration" title="Permalink to this headline">¶</a></h3>
<p>The user will be redirected back to the returnUrl you provided. The eBox connector will add a query string parameter with the result of the registration process:</p>
<ul class="simple">
<li><p><strong>status</strong>: Reflects the outcome of the eBox registration process. Is always present and will have one these values: <code class="docutils literal notranslate"><span class="pre">ok</span></code>, <code class="docutils literal notranslate"><span class="pre">cancelled</span></code> or <code class="docutils literal notranslate"><span class="pre">failed</span></code>.</p></li>
<li><p><strong>errorId</strong>: a reference to the error that occured. Is only present when the status <code class="docutils literal notranslate"><span class="pre">failed</span></code>. This can be used for debugging and error root cause analysis.</p></li>
</ul>
</div>
</div>
<div class="section" id="backend-flow">
<h2>Backend flow<a class="headerlink" href="#backend-flow" title="Permalink to this headline">¶</a></h2>
<p>After a succesfull registration, the eBox connector will:</p>
<ul class="simple">
<li><p>synchronize document metadata between the Doccle receiver and eBox of the user</p></li>
<li><p>post a <code class="docutils literal notranslate"><span class="pre">registration</span> <span class="pre">completed</span></code> event to your event api.</p></li>
</ul>
<p>The body of the post request is formatted as a JSON string and contains:</p>
<ul class="simple">
<li><p>technicalSenderName</p></li>
<li><p>receiverExternalReferenceId</p></li>
<li><p>eventTimestamp</p></li>
<li><p>citizenId</p></li>
<li><p>eventType (<code class="docutils literal notranslate"><span class="pre">registration</span> <span class="pre">completed</span></code>)</p></li>
<li><p>reference</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../misc/training.html" class="btn btn-neutral float-right" title="Training" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../intro.html" class="btn btn-neutral float-left" title="Intro" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Doccle

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>